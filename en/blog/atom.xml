<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://lab240.github.io/en/blog</id>
    <title>Lab240 Blog</title>
    <updated>2023-07-24T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://lab240.github.io/en/blog"/>
    <subtitle>Lab240 Blog</subtitle>
    <icon>https://lab240.github.io/en/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Передача данных подвижного объекта]]></title>
        <id>https://lab240.github.io/en/blog/dmn-prj-elva1-1</id>
        <link href="https://lab240.github.io/en/blog/dmn-prj-elva1-1"/>
        <updated>2023-07-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Зарисовки к проектам нашей команды]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="зарисовки-к-проектам-нашей-команды">Зарисовки к проектам нашей команды<a href="#зарисовки-к-проектам-нашей-команды" class="hash-link" aria-label="Direct link to Зарисовки к проектам нашей команды" title="Direct link to Зарисовки к проектам нашей команды">​</a></h2><p>В большом проекте по обеспечению надежной высокоскоростной (10Гбит)
связью "поезд-земля", наша команда отвечает за передачу данных.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Пресса и материалы по теме</div><div class="admonitionContent_S0QG"><p><a href="https://habr.com/ru/articles/739496/" target="_blank" rel="noopener noreferrer">Статья</a> на Хабре про технологию "поезд-земля" и сравнение ее с WiFi и LTE.</p><p><a href="https://www.youtube.com/watch?v=t48YXALtb-M" target="_blank" rel="noopener noreferrer">Ролик</a> на Youtube</p></div></div><p>Мы разрабатываем систему передачи данных через
радиорелейную связь подвижного объекта (поезд) на
высоких скоростях (до 300км\ч).</p><p>Суть проекта в том, что на поезде стоит радио-релейное
оборудование, которое "смотрит" вперед и назад. В каждый момент
времени мы "видим" и "теряем" базовые станции впереди поезда и сзади поезда.</p><p>Упрощенная схема выглядит так</p><p><img loading="lazy" alt="Alt text" src="/en/assets/images/toto1-58b995718d7c2d7fc1970fd9d712b398.png" width="531" height="489" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Пояснения к картинке</div><div class="admonitionContent_S0QG"><p>На самом деле на поезде 4 релейки с разной поляризацией (две смотрят вперед и две назад). Внутри "поезда" наша славный роутер,
который переключает маршруты. CGW-база - "наземный" сервер в диспетчерской, который собственно и является шлюзом в Интернет, а также потребителем трафика с камер поезда. </p><p>Сейчас помимо беркутов мы активно используем трафик-генератор T-REX с различными профилями.</p></div></div><p>Вот настоящая схема с генератором трафика T-REX.
<img loading="lazy" alt="Alt text" src="/en/assets/images/toto2-086e2a33fdd3b88f1ae0382ebdbb2607.png" width="610" height="436" class="img_ev3q"></p><p>Наша задача - обеспечить непрерывный и полно-дуплексный поток
данных 10Гбит, переключая маршрутизацию от базовой станции "впереди"
к базовой станции "сзади" и обратно.</p><p>То есть, говоря сетевым языком нам надо переключать "дефоулт роут" потока 10Гбит примерно раз в 7 секунд максимально быстро (с минимальными потерями).</p><p>Беда стандартных протоколов в том, что переключения "дефаулт роутинга" очень медленное (даже на мощных сетевых маршрутизаторах), а если мы начинаем пользоваться IP-стеком Linux,
то получаем снижение скорости при интенсивном роутинге 10Гбит и (что важнее) также переключение в районе 50мс, что для нас медленно. Для любой стационарной сети это хорошее время переключения (мы используем протокол для MESH сетей BABEL), но мы то знаем что при использовании DPDK это время можно кардинально уменьшить. </p><p>В этом проекте мы применяем технологию DPDK и мощную платформу NXP LX2160. Мы разработали
свой протокол, которые оптимизирован исключительно на эту задачу (ловить новые маршруты) При этом
мы получаем скорость переключения роутинга в районе 1-2мс (миллисекунд). </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Краткое описание Flea Path</div><div class="admonitionContent_S0QG"><p>Мы генерируем сторбирующий трафик по всем интерфейсам сети. Маршрутизатор внутри поезда проверяет 4 интерфейса и при пропадании трафика на одном из интерфейсов, переключает максимально быстро в другой. </p><p>Учитывая скорость движения поезда мы "теряем" и "находим" трафик примерно 1 раз в 7 секунд.</p></div></div><p>Для проверки и тестирования мы собрали несколько стендов, один из которых представляет их себя полное физическое воплощение радиорелейной сети с регулируемым затуханием сигнала. Программа тестирования "гасит" и "поднимает" качество сигнала в радиорелейной части, обеспечивая полную эмуляцию движения поезда через "базовые" станции. </p><p>Радио-релейная часть стенда</p><p><img loading="lazy" alt="Alt text" src="/en/assets/images/stand1-4c42fc186eea66b7a03d5083ca08493f.png" width="279" height="272" class="img_ev3q"></p><p>Кроме того, для проверки влияния потерь пактов была собрана сеть из видеокамер, а также генератор трафика T-REX с профилем "смешанный трафик". Таким образом, мы эмулируем пользователей в интернете в поезде (микс из youtube, веб, видео-общения, скачиваний файлов). Также мы провели испытания, пересаживая весь наш отдел на "поезд". </p><p>Надо с гордостью заявить, что результатами мы довольны. Мы не имеем потерь и снижения скорости. При генерации T-Rex 10гбит смешанного трафика в поезде, наш DPDK-роутер "протаскивает" через себя весь трафик. </p><p><img loading="lazy" alt="Alt text" src="/en/assets/images/trex-1-4c0bdddd43b7315cfe270491b0d3e366.png" width="982" height="646" class="img_ev3q"></p><p>При натуральных испытаниях в офисе мы генерировали примерно 3Гбит трафика в пике и вообще не ощущали дискомфорта в работе.</p><p>...статья пилится...</p>]]></content>
        <author>
            <name>dmn</name>
            <uri>https://github.com/dmnovikov</uri>
        </author>
        <category label="team" term="team"/>
        <category label="lab240" term="lab240"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Team]]></title>
        <id>https://lab240.github.io/en/blog/dmn-init</id>
        <link href="https://lab240.github.io/en/blog/dmn-init"/>
        <updated>2023-07-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The lab is engaged in research and product creation in the field of electronics, networks, Linux, embedded, IoT, automation.]]></summary>
        <content type="html"><![CDATA[<p>The lab is engaged in research and product creation in the field of electronics, networks, Linux, embedded, IoT, automation.</p><p>We work with RockChip, NXP, BroadCom, RAK chips and assemblies.</p><p>We deeply and broadly deal with Linux, preparing kernels, recipes, bootloaders, network system. We work with DPDK and develop our own protocol based on DPDK.</p><p>We design and implement our version of the SDN network with zeroconf.</p><p>We design in Compass, Altium Designer, easyEDA.</p><p>We write documentation in ESKD (when forced to).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">​</a></h2><p>A distributed team of specialists.</p><ul><li>Group of circuit designers (+team lead)</li><li>Group of network engineers (+team lead)</li><li>Group of documentation preparation and release (+team lead)</li><li>Designer-constructor</li><li>DevOps</li><li>Logistician</li></ul><p>We have no managers =)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portfolio-electronics">Portfolio. Electronics<a href="#portfolio-electronics" class="hash-link" aria-label="Direct link to Portfolio. Electronics" title="Direct link to Portfolio. Electronics">​</a></h2><ul><li><p>Processor module <a href="https://github.com/dmnovikov/napiguide/blob/main/readmeNapi.md" target="_blank" rel="noopener noreferrer">NAPI</a> based on Rockchip RK3308</p></li><li><p>Data collection system <a href="https://github.com/dmnovikov/napiguide/blob/main/frontcontrolcompact.md" target="_blank" rel="noopener noreferrer">"Collector-Compact"</a> based on Napi</p></li><li><p>Data collection system <a href="https://github.com/dmnovikov/napiguide/blob/main/readmeNapiFrontControl.md" target="_blank" rel="noopener noreferrer">"Current Collector"</a> based on Napi</p></li><li><p>Industrial switch <a href="https://github.com/dmnovikov/napiguide/blob/main/frontnet-l2.md" target="_blank" rel="noopener noreferrer">FrontNet</a> based on ASIC Broadcom Avenger.</p></li><li><p>Data transmission system over 802.11ad wireless networks (partial participation) based on nxp ls1046</p></li><li><p>Routing system of a moving object based on nxp lx2160</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portfolio-design">Portfolio. Design<a href="#portfolio-design" class="hash-link" aria-label="Direct link to Portfolio. Design" title="Direct link to Portfolio. Design">​</a></h2><ul><li><p>Design of passive housing for Baikal, Elbrus boards</p></li><li><p>Housing for the FrontNet switch</p></li></ul><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQImQG6AEX/AM3Nzm5wdFJUV1paWr6+vv///8vLy4mJiba2t+/v7wBwdXwTKEg7RlYFBgeysbGDg4MRERAfISEBAgOVlZUAio+WIjhWTlVdExUXxsbGfX19FhYWFhYWBgUFr6+vAJicoR00UktSXAsMDtfX1p6enigoKAwMDAgICMzMzACipagQKEcxOkYyMzT///+1tLQWFxcAAABqamr7/PwA6enosLnFbHWDurq6////////pKSklJSU/////v7+W2tXGVdAcQYAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="480" height="280"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/en/assets/ideal-img/l2-1.e517540.480.png" srcset="/en/assets/ideal-img/l2-1.e517540.480.png 480w,/en/assets/ideal-img/l2-1.9604a61.490.png 490w" width="480" height="280"></noscript></div>- Housing for the "Collector" data collection system<h2 class="anchor anchorWithStickyNavbar_LWe7" id="portfolio-software-developments">Portfolio. Software Developments<a href="#portfolio-software-developments" class="hash-link" aria-label="Direct link to Portfolio. Software Developments" title="Direct link to Portfolio. Software Developments">​</a></h2><ul><li>NapiLinux - Linux distribution for embedded systems (based on Yocto build system)</li><li>Web interface "Current Collector" (statistics system based on influx and grafana)</li><li>FrontNet Lora connect - data transmission system through LoraWan network with data backup based on ChirpStack</li><li>Flear path protocol - routing of a moving object based on Linux and DPDK</li></ul>]]></content>
        <author>
            <name>dmn</name>
            <uri>https://github.com/dmnovikov</uri>
        </author>
        <category label="team" term="team"/>
        <category label="lab240" term="lab240"/>
    </entry>
</feed>